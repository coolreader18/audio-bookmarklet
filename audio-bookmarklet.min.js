/* @bookmarklet @preserve
 * @name Audio Bookmarklet Bookmarklet
 * @author coolreader18
 */
fetch(location.href).then(async o=>{var t="",a=new Uint8Array(await o.clone().arrayBuffer());for(var e=0;e<a.byteLength;e++){t+=String.fromCharCode(a[e])}var n=open("","audioBookmarklet","status=no,height=100,innerWidth=300");if(!n){n=open("","audioBookmarklet")}n.document.write(`<style>\n@import url('https://fonts.googleapis.com/css?family=Roboto');\na {\n  font-family: 'Roboto', sans-serif;\n  font-color: #0288d1;\n}\n</style>\n<a href='javascript:(function(w,i){w[i]=w[i]||(function(){let a=new Audio("data:${(await o.clone().blob()).type};base64,${btoa(t)}");a.onended=function(e){u(e.currentTarget)};return a})();var a=w[i];a.paused?a.play():u(a);function u(b){b.pause();b.currentTime=0}})(window.audiobookmarklet=window.audiobookmarklet||{},"${Math.random().toString(36).substr(2,7)}")'>${decodeURIComponent(o.url.split("/").slice(-1)[0].split(".").slice(0,-1).join("."))}</a>`);n.addEventListener("blur",()=>{n.close()})});